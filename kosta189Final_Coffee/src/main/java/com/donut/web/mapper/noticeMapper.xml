<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="noticeMapper">

<!-- 
	private int noticeNo;
	private String id;
	private String noticeTitle;
	private String noticeContent;
	private String noticeRegdate; -->

<!-- <resultMap type="noticeDTO" id="noticeSelectMap">
  <id column="NOTICENO" property="noticeNo"/>
  <result column="ID" property="id"/>
  <result column="NOTICETITLE" property="noticeTitle"/>
  <result column="NOTICECONTENT" property="noticeContent"/>
  <result column="NOTICEREGDATE" property="noticeRegdate"/>
</resultMap> -->

<sql id="columnName">
	NOTICENO,ID,NOTICETITLE,NOTICECONTENT,NOTICEREGDATE
</sql>

<!-- 모든레코드 검색 or 글번호에 해당하는 레코드 검색 -->
 <!-- <select id="selectAll" resultMap="noticeSelectMap" parameterType="string">
   select noticeNo, id, noticeTitle, noticeContent, noticeRegdate from tb_notice order by noticeRegdate 
</select>  -->
<select id="selectAll" resultType="noticeDTO" parameterType="string">
	 select noticeNo, id, noticeTitle, noticeContent, noticeRegdate from tb_notice 
	<where>
		<if test="_parameter!=null">
			noticeNo=#{_parameter}
		</if>
	</where>
	order by noticeRegdate 
</select> 

<!-- 공지사항 등록 -->
<insert id="noticeInsert" parameterType="noticeDTO">
  insert into tb_notice(noticeNo, id, noticeTitle, noticeContent, noticeRegdate) 
  values(seq_notice.nextval, #{id},#{noticeTitle}, #{noticeContent},sysdate)
</insert>



 <!-- 공지사항 수정 -->
 <update id="noticeUpdate" parameterType="noticeDTO">
    update tb_notice
    set  noticeTitle=#{noticeTitle}, noticeContent=#{noticeContent}
    where noticeNo=#{noticeNo} 
 </update>
 
 
 
 <!-- 삭제 --> 
 <delete id="noticeDelete" parameterType="noticeDTO">
  delete from tb_notice 
  where noticeNo=#{noticeNo} 
 </delete>


<!-- D id -->

 <select id="noticeSelectByNoAndId" parameterType="map" resultType="noticeDTO">
 	select * from
 	tb_notice
 	where
 	noticeNo = #{noticeNo}
 	and
 	id = #{id}
 </select>

</mapper>
